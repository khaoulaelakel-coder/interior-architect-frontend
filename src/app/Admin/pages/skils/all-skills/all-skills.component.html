<div class="flex justify-center items-center h-full">
  <div class="bg-white p-6 rounded-lg shadow-md w-full max-w-2xl">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-xl font-semibold">List Skills</h2>
      <div class="flex gap-2">
        <!-- Bulk Delete Button -->
        @if (selectedSkills.length > 0) {
        <button (click)="bulkDeleteSkills()"
          class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2">
          <i class="fas fa-trash"></i>
          <span>Supprimer ({{ selectedSkills.length }})</span>
        </button>
        }
        <button (click)="createSkill()"
          class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2">
          <i class="fas fa-plus"></i>
          <span>Ajouter une Compétence</span>
        </button>
      </div>
    </div>

    <!-- Bulk Selection Controls -->
    <div class="mb-4 flex items-center gap-4 p-3 bg-gray-50 rounded-lg">
      <label class="flex items-center gap-2 cursor-pointer">
        <input type="checkbox" [checked]="isAllSelected" (change)="toggleSelectAll()"
          class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
        <span class="text-sm font-medium">Sélectionner tout</span>
      </label>
      @if (selectedSkills.length > 0) {
      <span class="text-sm text-gray-600">
        {{ selectedSkills.length }} compétence(s) sélectionnée(s)
      </span>
      }
    </div>

    <table class="w-full border text-left text-sm" *ngIf="skills.length > 0; else noSkills">
      <thead class="bg-gray-100 text-gray-600">
        <tr>
          <th class="py-2 px-3 w-12">
            <!-- Header checkbox -->
          </th>
          <th class="py-2 px-3">Name</th>
          <th class="py-2 px-3">Logo</th>
          <th class="py-2 px-3">Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (skill of skills; track skill.name) {
        <tr class="border-t hover:bg-gray-50">
          <td class="py-2 px-3">
            <!-- Individual skill checkbox -->
            <input type="checkbox" [checked]="isSkillSelected(skill.id!)" (change)="toggleSkillSelection(skill.id!)"
              class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
          </td>
          <td class="py-2 px-3">{{ skill.name }}</td>
          <td class="py-2 px-3">
            <img [src]="getImageUrl(skill.logo)" alt="{{ skill.name }}" class="h-6" (error)="onImageError($event)" />
          </td>
          <td class="py-2 px-3">
            <button class="text-red-500 hover:underline text-xs" (click)="deleteSkill(skill.id!)">Delete</button>
            <button class="text-blue-500 hover:underline text-xs" (click)="editskill(skill.id!)">update</button>

          </td>
        </tr>
        }
      </tbody>
    </table>

    <ng-template #noSkills>
      <p class="text-center text-gray-500">No skills found.</p>
    </ng-template>
  </div>
</div>